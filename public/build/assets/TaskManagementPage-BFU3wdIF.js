import{H as D,_ as as,c as i,a as s,f as A,g as L,p as N,b as k,t as l,n as R,e as p,w as os,v as ls,F as ns,i as is,r as m,k as ds,M,o as d}from"./main-6HkEK7r2.js";import{S as rs}from"./StatsCard-Daj1M7Ql.js";import{R as cs}from"./ResponsiveTable-DO6c7ISj.js";import{L as ms}from"./LoadingSpinner-TtFArfCL.js";const S={fetchTasks(c={}){return D("/api/tasks",{params:c})},fetchTaskStats(){return D("/api/tasks/stats")},getTaskById(c){return D(`/api/tasks/${c}`)},updateTask(c,e){return D(`/api/tasks/${c}`,{method:"put",data:e})},searchSlaughterers(c="",e=null){const u={};return c&&(u.search=c),e&&(u.company_id=e),D("/api/slaughterers/search",{params:u})},verifyTaskUser(c){return D(`/api/tasks/${c}/verify-user`)}},us={name:"TaskManagement",components:{StatsCard:rs,ResponsiveTable:cs,LoadingSpinner:ms},setup(){const c=m(!0),e=m(null),u=m([]),t=m({total:0,completed:0,pending:0}),r=m(null),w=m(""),f=m([]),x=m(!1),_=m(null),h=m(null),I=[{key:"deliveryID",label:"Delivery ID",sortable:!0},{key:"orderID",label:"Order ID",sortable:!0},{key:"item_name",label:"Item Name",sortable:!0},{key:"task_status",label:"Status",sortable:!0}],o=m({current_page:1,per_page:10,total:0}),U=m(""),P=m("start_timestamp"),B=m("asc");let b=null,y=null,T=null,C=null;const g=async()=>{c.value=!0,e.value=null;try{const a={page:o.value.current_page,search:U.value,sort_by:P.value,sort_direction:B.value},n=await S.fetchTasks(a);console.log("Response:",JSON.stringify(n,null,2)),u.value=n.data,o.value={current_page:n.current_page,per_page:n.per_page,total:n.total},Q()}catch(a){console.error("Error fetching tasks:",a),e.value="Failed to load tasks. Please try again."}finally{c.value=!1}},Q=()=>{const a=u.value.filter(v=>v.task_status==="completed").length,n=u.value.filter(v=>v.task_status!=="completed").length;t.value={total:u.value.length,completed:a,pending:n}},V=a=>a?new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",J=a=>{switch(a){case"completed":return"bg-success";case"in_progress":return"bg-primary";case"pending":return"bg-warning";default:return"bg-secondary"}},j=a=>{U.value=a,o.value.current_page=1,g()},q=({key:a,direction:n})=>{P.value=a,B.value=n,g()},z=a=>{o.value.current_page=a,g()},Y=a=>{r.value=a,b||(b=new M(document.getElementById("taskDetailsModal"))),b.show()},H=()=>{b.hide(),y||(y=new M(document.getElementById("startTaskConfirmModal"))),y.show()},G=()=>{b.hide(),T||(T=new M(document.getElementById("completeTaskConfirmModal"))),T.show()},K=()=>{y.hide(),setTimeout(()=>{b.show()},500)},W=()=>{T.hide(),setTimeout(()=>{b.show()},500)},X=async()=>{var a,n;try{if(!r.value.userID){y.hide(),E();return}const v=await S.updateTask(r.value.taskID,{task_status:"in_progress",start_timestamp:new Date().toISOString()});y.hide(),await g(),setTimeout(()=>{const O=u.value.find(ts=>ts.taskID===r.value.taskID);O&&(r.value=O),b.show()},500)}catch(v){((n=(a=v.response)==null?void 0:a.data)==null?void 0:n.error)==="NO_USER_ASSIGNED"?(y.hide(),E()):(console.error("Error starting task:",v),alert("Failed to start task. Please try again."),y.hide())}},Z=async()=>{try{const a=await S.updateTask(r.value.taskID,{task_status:"completed",finish_timestamp:new Date().toISOString()});T.hide(),await g(),setTimeout(()=>{const n=u.value.find(v=>v.taskID===r.value.taskID);n&&(r.value=n),b.show()},500)}catch(a){console.error("Error completing task:",a),alert("Failed to complete task. Please try again."),T.hide()}},F=async()=>{x.value=!0,f.value=[];try{const a=await S.searchSlaughterers(w.value);console.log("Search Response:",JSON.stringify(a)),a.success&&a.data?f.value=a.data:(console.error("Failed to search users:",a),f.value=[])}catch(a){console.error("Error searching users:",a),f.value=[]}finally{x.value=!1}},$=a=>{_.value=a.userID,h.value=a},E=async()=>{try{const a=await S.verifyTaskUser(r.value.taskID);console.log("Verify Response:",JSON.stringify(a)),a.success?(b.hide(),w.value="",f.value=[],_.value=null,h.value=null,C||(C=new M(document.getElementById("assignUserModal"))),C.show(),F()):(alert(a.message),a.assigned_user&&(r.value.userID=a.assigned_user.userID,r.value.user_name=a.assigned_user.fullname,r.value.user_email=a.assigned_user.email))}catch(a){console.error("Error verifying task user:",a),alert("Failed to verify task assignment status")}},ss=()=>{C.hide(),setTimeout(()=>{b.show()},500)},es=async()=>{if(_.value)try{const a=await S.updateTask(r.value.taskID,{userID:_.value});C.hide(),await g(),setTimeout(()=>{const n=u.value.find(v=>v.taskID===r.value.taskID);n&&(n.user_name=h.value.fullname||h.value.name,n.user_email=h.value.email,r.value=n),r.value.start_timestamp?b.show():H()},500)}catch(a){console.error("Error assigning user:",a),alert("Failed to assign user. Please try again."),C.hide()}};return ds(()=>{g()}),{loading:c,error:e,tasks:u,taskStats:t,columns:I,pagination:o,selectedTask:r,formatDate:V,getStatusClass:J,handleSearch:j,handleSort:q,handlePageChange:z,viewTaskDetails:Y,openStartConfirmation:H,openCompleteConfirmation:G,cancelStartTask:K,cancelCompleteTask:W,confirmStartTask:X,confirmCompleteTask:Z,userSearchQuery:w,userSearchResults:f,searchingUsers:x,selectedUserId:_,searchUsers:F,selectUser:$,openAssignUserModal:E,cancelAssignUser:ss,confirmAssignUser:es}}},bs={class:"task-management-page"},vs={class:"row mb-4"},fs={class:"col-md-4 mb-3 mb-md-0"},ks={class:"col-md-4 mb-3 mb-md-0"},ps={class:"col-md-4"},_s={class:"card"},hs={class:"card-body"},ys=["onClick"],gs={class:"modal fade",id:"taskDetailsModal",tabindex:"-1","aria-hidden":"true"},Ts={class:"modal-dialog modal-lg"},Cs={class:"modal-content theme-modal"},Ds={key:0,class:"modal-body theme-body"},Ss={class:"task-essential-info mb-4"},xs={class:"d-flex justify-content-between align-items-center mb-3"},ws={class:"mb-1"},Is={class:"d-flex align-items-center"},Us={class:"text-muted small"},As={class:"task-timeline"},Ns={key:0,class:"d-flex align-items-center"},Ms={class:"small"},Es={key:1,class:"d-flex align-items-center"},Rs={class:"small"},Ps={class:"row"},Bs={class:"col-md-6"},Hs={class:"info-item"},Fs={class:"info-value"},Os={class:"info-item"},Ls={class:"info-value"},Qs={class:"col-md-6"},Vs={class:"info-item"},Js={class:"info-value"},js={key:0,class:"info-item"},qs={class:"info-value"},zs={class:"mt-3 border-top pt-3"},Ys={class:"d-flex justify-content-between align-items-center mb-2"},Gs={key:0,class:"d-flex align-items-center"},Ks={class:"fw-bold"},Ws={class:"small text-muted"},Xs={key:1,class:"text-muted fst-italic"},Zs={class:"accordion",id:"taskDetailsAccordion"},$s={class:"accordion-item border-0 mb-2"},se={id:"itemDetailsCollapse",class:"accordion-collapse collapse","aria-labelledby":"itemDetailsHeading","data-bs-parent":"#taskDetailsAccordion"},ee={class:"accordion-body theme-accordion-body"},te={class:"info-item"},ae={class:"info-value"},oe={class:"info-item"},le={class:"info-value"},ne={key:0,class:"info-item"},ie={class:"info-value"},de={class:"info-item"},re={class:"info-value text-capitalize"},ce={class:"accordion-item border-0 mb-2"},me={id:"supplierCollapse",class:"accordion-collapse collapse","aria-labelledby":"supplierHeading","data-bs-parent":"#taskDetailsAccordion"},ue={class:"accordion-body theme-accordion-body"},be={class:"info-item"},ve={class:"info-value"},fe={class:"accordion-item border-0 mb-2"},ke={id:"timelineCollapse",class:"accordion-collapse collapse","aria-labelledby":"timelineHeading","data-bs-parent":"#taskDetailsAccordion"},pe={class:"accordion-body theme-accordion-body"},_e={class:"timeline"},he={class:"timeline-item"},ye={class:"timeline-content"},ge={class:"small text-muted mb-0"},Te={key:0,class:"timeline-item"},Ce={class:"timeline-content"},De={class:"small text-muted mb-0"},Se={key:1,class:"timeline-item"},xe={class:"timeline-content"},we={class:"small text-muted mb-0"},Ie={key:2,class:"timeline-item"},Ue={class:"timeline-content"},Ae={class:"small text-muted mb-0"},Ne={class:"accordion-item border-0"},Me={id:"notesCollapse",class:"accordion-collapse collapse","aria-labelledby":"notesHeading","data-bs-parent":"#taskDetailsAccordion"},Ee={class:"accordion-body theme-accordion-body"},Re={class:"mb-0"},Pe={class:"modal-footer theme-footer"},Be={class:"modal fade",id:"startTaskConfirmModal",tabindex:"-1","aria-hidden":"true"},He={class:"modal-dialog"},Fe={class:"modal-content theme-modal"},Oe={class:"modal-footer theme-footer"},Le={class:"modal fade",id:"completeTaskConfirmModal",tabindex:"-1","aria-hidden":"true"},Qe={class:"modal-dialog"},Ve={class:"modal-content theme-modal"},Je={class:"modal-footer theme-footer"},je={class:"modal fade",id:"assignUserModal",tabindex:"-1","aria-hidden":"true"},qe={class:"modal-dialog"},ze={class:"modal-content theme-modal"},Ye={class:"modal-body theme-body"},Ge={class:"mb-3"},Ke={class:"input-group"},We={key:0,class:"text-center py-3"},Xe={key:1,class:"text-center py-3"},Ze={key:2,class:"user-search-results",style:{"max-height":"300px","overflow-y":"auto"}},$e=["onClick"],st={class:"fw-bold"},et={class:"small text-muted"},tt={class:"modal-footer theme-footer"},at=["disabled"];function ot(c,e,u,t,r,w){var _,h,I;const f=L("StatsCard"),x=L("ResponsiveTable");return d(),i("div",bs,[e[57]||(e[57]=s("h1",{class:"mb-4"},"Task Management",-1)),s("div",vs,[s("div",fs,[A(f,{title:"Total Tasks",count:((_=t.taskStats)==null?void 0:_.total)||0,icon:"fas fa-tasks","bg-color":"bg-primary"},null,8,["count"])]),s("div",ks,[A(f,{title:"Completed Tasks",count:((h=t.taskStats)==null?void 0:h.completed)||0,icon:"fas fa-check-circle","bg-color":"bg-success"},null,8,["count"])]),s("div",ps,[A(f,{title:"Pending Tasks",count:((I=t.taskStats)==null?void 0:I.pending)||0,icon:"fas fa-clock","bg-color":"bg-warning"},null,8,["count"])])]),s("div",_s,[s("div",hs,[e[15]||(e[15]=s("h5",{class:"card-title mb-4"},"Tasks List",-1)),A(x,{columns:t.columns,items:t.tasks,loading:t.loading,onSearch:t.handleSearch,onSort:t.handleSort,onPageChange:t.handlePageChange},{task_status:N(({item:o})=>[s("span",{class:R(["badge",t.getStatusClass(o.task_status)])},l(o.task_status),3)]),item_name:N(({item:o})=>[p(l(o.item_name||"N/A"),1)]),actions:N(({item:o})=>[s("button",{class:"btn btn-sm btn-primary",onClick:U=>t.viewTaskDetails(o)},e[13]||(e[13]=[s("i",{class:"fas fa-edit"},null,-1),p(" Edit ")]),8,ys)]),empty:N(()=>e[14]||(e[14]=[s("div",{class:"text-center py-5"},[s("i",{class:"fas fa-tasks fa-3x text-muted mb-3"}),s("p",null,"No tasks available")],-1)])),_:1},8,["columns","items","loading","onSearch","onSort","onPageChange"])])]),s("div",gs,[s("div",Ts,[s("div",Cs,[e[46]||(e[46]=s("div",{class:"modal-header theme-header"},[s("h5",{class:"modal-title"},"Task Details"),s("button",{type:"button",class:"btn-close theme-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),t.selectedTask?(d(),i("div",Ds,[s("div",Ss,[s("div",xs,[s("div",null,[s("h4",ws,l(t.selectedTask.item_name||"Unnamed Task"),1),s("div",Is,[s("span",{class:R(["badge me-2",t.getStatusClass(t.selectedTask.task_status)])},l(t.selectedTask.task_status),3),s("span",Us,"Task ID: "+l(t.selectedTask.taskID),1)])]),s("div",As,[t.selectedTask.start_timestamp?(d(),i("div",Ns,[e[16]||(e[16]=s("i",{class:"fas fa-play-circle text-primary me-1"},null,-1)),s("span",Ms,l(t.formatDate(t.selectedTask.start_timestamp)),1)])):k("",!0),t.selectedTask.finish_timestamp?(d(),i("div",Es,[e[17]||(e[17]=s("i",{class:"fas fa-check-circle text-success me-1"},null,-1)),s("span",Rs,l(t.formatDate(t.selectedTask.finish_timestamp)),1)])):k("",!0)])]),s("div",Ps,[s("div",Bs,[s("div",Hs,[e[18]||(e[18]=s("span",{class:"info-label"},"Delivery ID:",-1)),s("span",Fs,l(t.selectedTask.deliveryID||"N/A"),1)]),s("div",Os,[e[19]||(e[19]=s("span",{class:"info-label"},"Order ID:",-1)),s("span",Ls,l(t.selectedTask.orderID||"N/A"),1)])]),s("div",Qs,[s("div",Vs,[e[20]||(e[20]=s("span",{class:"info-label"},"Quantity:",-1)),s("span",Js,l(t.selectedTask.item_quantity||"N/A"),1)]),t.selectedTask.measurement_value&&t.selectedTask.measurement_type?(d(),i("div",js,[e[21]||(e[21]=s("span",{class:"info-label"},"Measurement:",-1)),s("span",qs,l(t.selectedTask.measurement_value)+" "+l(t.selectedTask.measurement_type),1)])):k("",!0)])]),s("div",zs,[s("div",Ys,[e[24]||(e[24]=s("h6",{class:"mb-0"},"Assigned To",-1)),t.selectedTask.userID?(d(),i("button",{key:1,class:"btn btn-sm btn-outline-secondary",onClick:e[1]||(e[1]=o=>t.openAssignUserModal())},e[23]||(e[23]=[s("i",{class:"fas fa-user-edit"},null,-1),p(" Change ")]))):(d(),i("button",{key:0,class:"btn btn-sm btn-outline-primary",onClick:e[0]||(e[0]=o=>t.openAssignUserModal())},e[22]||(e[22]=[s("i",{class:"fas fa-user-plus"},null,-1),p(" Assign ")])))]),t.selectedTask.userID&&t.selectedTask.user_name?(d(),i("div",Gs,[e[25]||(e[25]=s("div",{class:"user-avatar me-2"},[s("i",{class:"fas fa-user-circle fa-2x text-primary"})],-1)),s("div",null,[s("div",Ks,l(t.selectedTask.user_name),1),s("div",Ws,l(t.selectedTask.user_email||"No email available"),1)])])):(d(),i("div",Xs," No user assigned "))])]),s("div",Zs,[s("div",$s,[e[30]||(e[30]=s("h2",{class:"accordion-header",id:"itemDetailsHeading"},[s("button",{class:"accordion-button collapsed theme-accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#itemDetailsCollapse","aria-expanded":"false","aria-controls":"itemDetailsCollapse"},[s("i",{class:"fas fa-box me-2"}),p(" Item Details ")])],-1)),s("div",se,[s("div",ee,[s("div",te,[e[26]||(e[26]=s("span",{class:"info-label"},"Item Name:",-1)),s("span",ae,l(t.selectedTask.item_name||"N/A"),1)]),s("div",oe,[e[27]||(e[27]=s("span",{class:"info-label"},"Quantity:",-1)),s("span",le,l(t.selectedTask.item_quantity||"N/A"),1)]),t.selectedTask.measurement_value&&t.selectedTask.measurement_type?(d(),i("div",ne,[e[28]||(e[28]=s("span",{class:"info-label"},"Measurement:",-1)),s("span",ie,l(t.selectedTask.measurement_value)+" "+l(t.selectedTask.measurement_type),1)])):k("",!0),s("div",de,[e[29]||(e[29]=s("span",{class:"info-label"},"Task Type:",-1)),s("span",re,l(t.selectedTask.task_type||"N/A"),1)])])])]),s("div",ce,[e[32]||(e[32]=s("h2",{class:"accordion-header",id:"supplierHeading"},[s("button",{class:"accordion-button collapsed theme-accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#supplierCollapse","aria-expanded":"false","aria-controls":"supplierCollapse"},[s("i",{class:"fas fa-map-marker-alt me-2"}),p(" Supplier Information ")])],-1)),s("div",me,[s("div",ue,[s("div",be,[e[31]||(e[31]=s("span",{class:"info-label"},"Supplier Address:",-1)),s("span",ve,l(t.selectedTask.supplier_address||"No address available"),1)])])])]),s("div",fe,[e[41]||(e[41]=s("h2",{class:"accordion-header",id:"timelineHeading"},[s("button",{class:"accordion-button collapsed theme-accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#timelineCollapse","aria-expanded":"false","aria-controls":"timelineCollapse"},[s("i",{class:"fas fa-history me-2"}),p(" Timeline ")])],-1)),s("div",ke,[s("div",pe,[s("div",_e,[s("div",he,[e[34]||(e[34]=s("div",{class:"timeline-icon bg-secondary"},[s("i",{class:"fas fa-plus text-white"})],-1)),s("div",ye,[e[33]||(e[33]=s("h6",{class:"mb-0"},"Created",-1)),s("p",ge,l(t.formatDate(t.selectedTask.created_at)),1)])]),t.selectedTask.start_timestamp?(d(),i("div",Te,[e[36]||(e[36]=s("div",{class:"timeline-icon bg-primary"},[s("i",{class:"fas fa-play text-white"})],-1)),s("div",Ce,[e[35]||(e[35]=s("h6",{class:"mb-0"},"Started",-1)),s("p",De,l(t.formatDate(t.selectedTask.start_timestamp)),1)])])):k("",!0),t.selectedTask.finish_timestamp?(d(),i("div",Se,[e[38]||(e[38]=s("div",{class:"timeline-icon bg-success"},[s("i",{class:"fas fa-check text-white"})],-1)),s("div",xe,[e[37]||(e[37]=s("h6",{class:"mb-0"},"Completed",-1)),s("p",we,l(t.formatDate(t.selectedTask.finish_timestamp)),1)])])):k("",!0),t.selectedTask.updated_at&&t.selectedTask.updated_at!==t.selectedTask.created_at?(d(),i("div",Ie,[e[40]||(e[40]=s("div",{class:"timeline-icon bg-info"},[s("i",{class:"fas fa-edit text-white"})],-1)),s("div",Ue,[e[39]||(e[39]=s("h6",{class:"mb-0"},"Last Updated",-1)),s("p",Ae,l(t.formatDate(t.selectedTask.updated_at)),1)])])):k("",!0)])])])]),s("div",Ne,[e[42]||(e[42]=s("h2",{class:"accordion-header",id:"notesHeading"},[s("button",{class:"accordion-button collapsed theme-accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#notesCollapse","aria-expanded":"false","aria-controls":"notesCollapse"},[s("i",{class:"fas fa-sticky-note me-2"}),p(" Notes ")])],-1)),s("div",Me,[s("div",Ee,[s("p",Re,l(t.selectedTask.notes||"No notes available"),1)])])])])])):k("",!0),s("div",Pe,[t.selectedTask&&!t.selectedTask.start_timestamp&&!t.selectedTask.finish_timestamp?(d(),i("button",{key:0,type:"button",class:"btn btn-primary theme-btn-primary me-2",onClick:e[2]||(e[2]=o=>t.openStartConfirmation())},e[43]||(e[43]=[s("i",{class:"fas fa-play"},null,-1),p(" Start Task ")]))):k("",!0),t.selectedTask&&t.selectedTask.start_timestamp&&!t.selectedTask.finish_timestamp?(d(),i("button",{key:1,type:"button",class:"btn btn-success me-2",onClick:e[3]||(e[3]=o=>t.openCompleteConfirmation())},e[44]||(e[44]=[s("i",{class:"fas fa-check"},null,-1),p(" Complete Task ")]))):k("",!0),e[45]||(e[45]=s("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1))])])])]),s("div",Be,[s("div",He,[s("div",Fe,[e[47]||(e[47]=s("div",{class:"modal-header theme-header"},[s("h5",{class:"modal-title"},"Confirm Start Task"),s("button",{type:"button",class:"btn-close theme-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),e[48]||(e[48]=s("div",{class:"modal-body theme-body"},[s("p",null,"Are you sure you want to start this task?")],-1)),s("div",Oe,[s("button",{type:"button",class:"btn btn-secondary",onClick:e[4]||(e[4]=o=>t.cancelStartTask())},"No"),s("button",{type:"button",class:"btn btn-primary theme-btn-primary",onClick:e[5]||(e[5]=o=>t.confirmStartTask())},"Yes")])])])]),s("div",Le,[s("div",Qe,[s("div",Ve,[e[49]||(e[49]=s("div",{class:"modal-header theme-header"},[s("h5",{class:"modal-title"},"Confirm Complete Task"),s("button",{type:"button",class:"btn-close theme-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),e[50]||(e[50]=s("div",{class:"modal-body theme-body"},[s("p",null,"Are you sure you want to complete this task?")],-1)),s("div",Je,[s("button",{type:"button",class:"btn btn-secondary",onClick:e[6]||(e[6]=o=>t.cancelCompleteTask())},"No"),s("button",{type:"button",class:"btn btn-success",onClick:e[7]||(e[7]=o=>t.confirmCompleteTask())},"Yes")])])])]),s("div",je,[s("div",qe,[s("div",ze,[e[56]||(e[56]=s("div",{class:"modal-header theme-header"},[s("h5",{class:"modal-title"},"Assign User to Task"),s("button",{type:"button",class:"btn-close theme-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),s("div",Ye,[s("div",Ge,[e[52]||(e[52]=s("label",{for:"userSearch",class:"form-label"},"Search Users",-1)),s("div",Ke,[os(s("input",{type:"text",class:"form-control",id:"userSearch","onUpdate:modelValue":e[8]||(e[8]=o=>t.userSearchQuery=o),onInput:e[9]||(e[9]=(...o)=>t.searchUsers&&t.searchUsers(...o)),placeholder:"Search by name or email"},null,544),[[ls,t.userSearchQuery]]),s("button",{class:"btn btn-outline-secondary",type:"button",onClick:e[10]||(e[10]=(...o)=>t.searchUsers&&t.searchUsers(...o))},e[51]||(e[51]=[s("i",{class:"fas fa-search"},null,-1)]))])]),t.searchingUsers?(d(),i("div",We,e[53]||(e[53]=[s("div",{class:"spinner-border text-primary",role:"status"},[s("span",{class:"visually-hidden"},"Loading...")],-1)]))):t.userSearchResults.length===0?(d(),i("div",Xe,e[54]||(e[54]=[s("p",{class:"text-muted mb-0"},"No users found",-1)]))):(d(),i("div",Ze,[(d(!0),i(ns,null,is(t.userSearchResults,o=>(d(),i("div",{key:o.userID,class:R(["user-search-item p-2 border-bottom d-flex align-items-center",{selected:t.selectedUserId===o.userID}]),onClick:U=>t.selectUser(o)},[e[55]||(e[55]=s("div",{class:"user-avatar me-2"},[s("i",{class:"fas fa-user-circle fa-2x text-primary"})],-1)),s("div",null,[s("div",st,l(o.fullname||o.name),1),s("div",et,l(o.email),1)])],10,$e))),128))]))]),s("div",tt,[s("button",{type:"button",class:"btn btn-secondary",onClick:e[11]||(e[11]=o=>t.cancelAssignUser())},"Cancel"),s("button",{type:"button",class:"btn btn-primary theme-btn-primary",onClick:e[12]||(e[12]=o=>t.confirmAssignUser()),disabled:!t.selectedUserId}," Assign ",8,at)])])])])])}const rt=as(us,[["render",ot],["__scopeId","data-v-24adaed8"]]);export{rt as default};
