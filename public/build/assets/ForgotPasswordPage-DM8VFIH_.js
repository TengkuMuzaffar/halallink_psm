import{_ as k,c as l,a as o,f as x,g as h,d as w,b as c,w as L,v as T,t as b,e as y,r as i,u as E,z as F,o as d}from"./main-BpaYbEPg.js";import{L as M}from"./LoginLeftPanel-B-QNyV8a.js";const N={name:"ForgotPasswordPage",components:{LoginLeftPanel:M},setup(){const u=E(),e=i(""),a=i(!1),s=i(null),t=i(null);return{email:e,loading:a,error:s,successMessage:t,animatedTexts:["Recover your account","Secure password reset","Get back to your Halal network","We're here to help"],handleForgotPassword:async()=>{var m,p,f,v;a.value=!0,s.value=null,t.value=null;try{await F.post("/api/password/forgot",{email:e.value}),t.value="Password reset link has been sent to your email. Please check your inbox.",e.value=""}catch(n){if(console.error("Password reset error:",n),(p=(m=n.response)==null?void 0:m.data)!=null&&p.errors){const P=Object.values(n.response.data.errors).flat().join(`
`);s.value=P}else s.value=((v=(f=n.response)==null?void 0:f.data)==null?void 0:v.message)||"Failed to send reset link. Please try again."}finally{a.value=!1}},goToLogin:()=>{u.push({name:"Login"})}}}},R={class:"login-container"},S={class:"login-card"},V={class:"right-panel"},B={class:"mb-3"},C={key:0,class:"alert alert-danger",role:"alert"},D={key:1,class:"alert alert-success",role:"alert"},j=["disabled"],I={key:0,class:"spinner-border spinner-border-sm me-2",role:"status"},q={class:"text-center signup-link"};function z(u,e,a,s,t,_){const g=h("login-left-panel");return d(),l("div",R,[o("div",S,[x(g,{texts:s.animatedTexts},null,8,["texts"]),o("div",V,[e[6]||(e[6]=o("h2",null,"Reset Password",-1)),e[7]||(e[7]=o("p",null,"Enter your email to receive a password reset link",-1)),o("form",{onSubmit:e[2]||(e[2]=w((...r)=>s.handleForgotPassword&&s.handleForgotPassword(...r),["prevent"])),class:"w-100"},[o("div",B,[e[3]||(e[3]=o("label",{for:"email",class:"form-label"},"Email address",-1)),L(o("input",{type:"email",class:"form-control",id:"email","onUpdate:modelValue":e[0]||(e[0]=r=>s.email=r),placeholder:"Enter your email",required:""},null,512),[[T,s.email]])]),s.error?(d(),l("div",C,b(s.error),1)):c("",!0),s.successMessage?(d(),l("div",D,b(s.successMessage),1)):c("",!0),o("button",{type:"submit",class:"login-btn",disabled:s.loading},[s.loading?(d(),l("span",I)):c("",!0),e[4]||(e[4]=y(" SEND RESET LINK "))],8,j),o("div",q,[o("p",null,[e[5]||(e[5]=y("Remember your password? ")),o("a",{href:"#",onClick:e[1]||(e[1]=w((...r)=>s.goToLogin&&s.goToLogin(...r),["prevent"]))},"Login")])])],32)])])])}const K=k(N,[["render",z],["__scopeId","data-v-0f8af9eb"]]);export{K as default};
