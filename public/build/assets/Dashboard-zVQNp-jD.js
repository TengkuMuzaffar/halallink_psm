import{_ as m,c as o,a,F as _,i as f,g as p,o as e,f as b,r as u,j as g,k as y,l as v}from"./main-6HkEK7r2.js";import{S as C}from"./StatsCard-Daj1M7Ql.js";import{m as S}from"./modal-BXblql9Y.js";const $={name:"StatsCards",components:{StatsCard:C},props:{stats:{type:Array,required:!0}}},k={class:"stats-cards"},x={class:"row"};function D(r,s,t,n,d,c){const l=p("StatsCard");return e(),o("div",k,[a("div",x,[(e(!0),o(_,null,f(t.stats,(i,h)=>(e(),o("div",{key:h,class:"col-md-3 col-sm-6 mb-3 mb-md-0"},[b(l,{title:i.title,count:i.count,icon:i.icon,"bg-color":i.bgColor},null,8,["title","count","icon","bg-color"])]))),128))])])}const w=m($,[["render",D]]),F={name:"Dashboard",components:{StatsCards:w},setup(){const r=u(!0),s=u(null),t=u({broiler:0,slaughterhouse:0,sme:0,logistic:0}),n=g(()=>[{title:"Broiler Companies",count:t.value.broiler,icon:"fas fa-industry",bgColor:"bg-primary"},{title:"Slaughterhouse",count:t.value.slaughterhouse,icon:"fas fa-warehouse",bgColor:"bg-danger"},{title:"SME",count:t.value.sme,icon:"fas fa-store",bgColor:"bg-success"},{title:"Logistics",count:t.value.logistic,icon:"fas fa-truck",bgColor:"bg-warning"}]),d=async()=>{r.value=!0,s.value=null;try{const c=await v.get("/api/dashboard/stats",{onError:l=>{console.error("Failed to fetch dashboard stats:",l),s.value="Failed to load dashboard data. Please try again.",S.danger("Error Loading Dashboard","Failed to load dashboard data. Please try again.",{buttons:[{label:"Retry",type:"primary",onClick:()=>{d()}},{label:"Dismiss",type:"secondary",dismiss:!0}]})}});typeof c=="object"&&(t.value=c)}catch{}finally{r.value=!1}};return y(()=>{d()}),{loading:r,error:s,stats:t,companyStats:n}}},B={class:"dashboard"},E={class:"card mb-4"},L={class:"card-body"},P={key:0,class:"text-muted text-center py-5"},j={key:1,class:"text-muted text-center py-5"};function M(r,s,t,n,d,c){const l=p("StatsCards");return e(),o("div",B,[s[1]||(s[1]=a("h1",{class:"mb-4"},"Dashboard",-1)),b(l,{stats:n.companyStats,class:"mb-4"},null,8,["stats"]),a("div",E,[s[0]||(s[0]=a("div",{class:"card-header"},[a("h5",{class:"mb-0"},"Company Performance")],-1)),a("div",L,[n.loading?(e(),o("p",P," Loading charts... ")):(e(),o("p",j," Performance charts will be added here "))])])])}const A=m(F,[["render",M],["__scopeId","data-v-b1253030"]]);export{A as default};
