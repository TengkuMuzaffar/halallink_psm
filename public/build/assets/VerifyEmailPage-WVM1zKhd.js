import{_ as y,c as o,a as s,f as m,p,g,t as _,r as f,k as b,C as k,l as x,u as V,o as a,e as v}from"./main-6HkEK7r2.js";const h={name:"VerifyEmailPage",setup(){const r=k();V();const e=f(!0),l=f(!1),t=f("");return b(async()=>{var i,u;const n=r.query.token,d=r.query.email;if(!n||!d){t.value="Invalid verification link. Missing token or email.",e.value=!1;return}try{const c=await x.post("/api/email/verify",{token:n,email:d});l.value=!0,e.value=!1}catch(c){console.error("Email verification error:",c),t.value=((u=(i=c.response)==null?void 0:i.data)==null?void 0:u.message)||"Verification failed. Please try again.",e.value=!1}}),{loading:e,verified:l,errorMessage:t}}},E={class:"verify-email-page"},w={class:"container"},M={class:"row justify-content-center"},P={class:"col-md-8 col-lg-6"},B={class:"card mt-5"},C={class:"card-body"},N={key:0,class:"text-center py-4"},q={key:1},z={key:0,class:"text-center"},D={key:1,class:"text-center"};function G(r,e,l,t,n,d){const i=g("router-link");return a(),o("div",E,[s("div",w,[s("div",M,[s("div",P,[s("div",B,[e[8]||(e[8]=s("div",{class:"card-header bg-primary text-white"},[s("h4",{class:"mb-0"},"Email Verification")],-1)),s("div",C,[t.loading?(a(),o("div",N,e[0]||(e[0]=[s("div",{class:"spinner-border text-primary",role:"status"},[s("span",{class:"visually-hidden"},"Loading...")],-1),s("p",{class:"mt-2"},"Verifying your email...",-1)]))):(a(),o("div",q,[t.verified?(a(),o("div",z,[e[2]||(e[2]=s("i",{class:"bi bi-check-circle-fill text-success",style:{"font-size":"4rem"}},null,-1)),e[3]||(e[3]=s("h4",{class:"mt-3"},"Email Verified Successfully!",-1)),e[4]||(e[4]=s("p",null,"Your email has been verified. You can now access all features of the application.",-1)),m(i,{to:"/",class:"btn btn-primary mt-3"},{default:p(()=>e[1]||(e[1]=[v("Go to Dashboard")])),_:1})])):(a(),o("div",D,[e[6]||(e[6]=s("i",{class:"bi bi-x-circle-fill text-danger",style:{"font-size":"4rem"}},null,-1)),e[7]||(e[7]=s("h4",{class:"mt-3"},"Verification Failed",-1)),s("p",null,_(t.errorMessage||"We could not verify your email. The link may be invalid or expired."),1),m(i,{to:"/profile",class:"btn btn-primary mt-3"},{default:p(()=>e[5]||(e[5]=[v("Go to Profile")])),_:1})]))]))])])])])])])}const S=y(h,[["render",G]]);export{S as default};
